---
// src/pages/index.astro
import Layout from '../../layouts/Layout.astro';
import { Image } from 'astro:assets';
// Imágenes
import miFoto from '../../assets/Yo.JPG';
import picoduckyv1 from '../../assets/picoduckyv1.jpg'
import pasapalabra from '../../assets/pasapalabracompleto.jpeg'
import mcp from '../../assets/mcp.png';
import spam from '../../assets/spam.jpg';

// --- DATOS DE PROYECTOS ---

const PROJECTS = [
    {
        title: "Pasapalabra IoT con ESP32",
        description: "Material educativo para niños. El sistema aloja una aplicación web dentro del propio ESP32 que se comunica vía WebSockets para controlar la iluminación del rosco en tiempo real. La estructura está fabricada con materiales reciclados y piezas impresas en 3D",
        tags: ["ESP32", "C++", "3D Printing", "IoT"],
        image: pasapalabra, 
        github: "https://github.com/CnAs076/Esp32-rosco-game",
        demo: null, 
        category: "Hardware & IoT",
        status: "Terminado",
        statusColor: "bg-emerald-500/90"
    },
    {
        title: "Pico-Ducky-Utils",
        description: "Herramienta de automatización HID sobre Raspberry Pi Pico. Desarrollada en equipo junto a dos compañeros de beca para agilizar tareas repetitivas del departamento. El dispositivo ejecuta scripts preprogramados que reducen drásticamente el tiempo de configuración y mantenimiento de equipos.",
        tags: ["Raspberry Pi","Python","3D Printing","IoT"],
        image: picoduckyv1,
        github: "https://github.com/Sauleteh/pico-ducky-utils?tab=readme-ov-file",
        thingiverse : "https://www.thingiverse.com/thing:6885115", 
        demo: null,
        category: "Hardware & IoT",
        status: "Pausado",
        statusColor: "bg-amber-500/90"
    },
    {
        title: "Mi primer servidor MCP",
        description: "Servidor mcp sencillo que expone una tool al LLM Claude sobre la temperatura de mi CPU. Incluye una pequeña api desarrollada con la librería Python FastAPI para exponer un endpoint que utilizará el MCP. Se necesita una API key de Claude para poder probarlo, mas detalles en mi github.",
        tags: ["MCP","Python","APIs","LLMs"],
        image: mcp,
        github: "https://github.com/CnAs076/McpResearch", 
        demo: null,
        category: "Software - AI",
        status: "Terminado",
        statusColor: "bg-emerald-500/90"
    },
    {
        title: "Modelo para detección de spam",
        description: "Sistema inteligente capaz de clasificar mensajes del formulario en Spam o Legítimos utilizando el algoritmo Naive Bayes.",
        tags: ["Machine learning","Python","APIs"],
        image: spam,
        github: null, 
        demo: "/es/comprueba-spam",
        category: "Software - AI",
        status: "Terminado",
        statusColor: "bg-emerald-500/90"
    }
];
---

<Layout title="Mi Portfolio | Desarrollador Web">
    
    <section class="relative py-20 md:py-32 overflow-hidden bg-gradient-to-b from-blue-200/60 via-blue-100/40 to-blue-50 dark:from-blue-900/20 dark:to-gray-950">
        
        <div class="absolute top-0 left-1/2 -translate-x-1/2 w-[600px] h-[400px] bg-blue-400/30 blur-[120px] rounded-full -z-10 pointer-events-none"></div>
        
        <div class="container mx-auto px-6 flex flex-col-reverse md:flex-row items-center gap-12 md:gap-20">
            
            <div class="flex-1 text-center md:text-left">
                <h1 class="text-4xl md:text-6xl font-extrabold tracking-tight mb-6 text-slate-900 dark:text-white">
                    Hola, soy <span class="bg-gradient-to-r from-blue-600 to-cyan-500 text-transparent bg-clip-text">Jorge</span>
                </h1>
                
                <p class="text-lg md:text-xl text-slate-700 dark:text-gray-400 mb-8 leading-relaxed">
                    Un desarrollador apasionado de la informática y maker.
                    Gracias por visitar mi página web, aquí podrás encontrar algunos de
                    los proyectos que he ido desarrollando a lo largo de mi carrera.
                    Si tienes cualquier duda o propuesta, ¡no dudes en ponerte en contacto conmigo! 
                </p>
                
                <div class="flex gap-4 flex-wrap justify-center md:justify-start">
                    <a href="#proyectos" class="px-8 py-3 bg-blue-600 text-white rounded-full font-semibold hover:bg-blue-700 transition shadow-lg shadow-blue-500/40 hover:scale-105 flex items-center gap-2">
                        Ver Proyectos
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z" clip-rule="evenodd" />
                        </svg>
                    </a>
                    <a href="/es/contacto" class="px-8 py-3 bg-white text-blue-900 rounded-full font-semibold hover:bg-blue-50 transition border border-blue-200 shadow-sm hover:shadow-md dark:bg-gray-800 dark:text-white dark:border-gray-700">
                        Contactar
                    </a>
                </div>
            </div>

            <div class="flex-1 flex justify-center md:justify-end">
                <div class="relative w-64 h-64 md:w-80 md:h-80 rounded-full overflow-hidden border-4 border-white dark:border-gray-800 shadow-2xl shadow-blue-500/20 dark:shadow-blue-900/30 z-10">
                    <Image 
                        src={miFoto} 
                        alt="Foto de perfil de Jorge" 
                        class="w-full h-full object-cover"
                        width={400}
                        height={400}
                        loading="eager"
                    />
                </div>
            </div>

        </div>
    </section>

    <section id="proyectos" class="py-24 bg-white/80 dark:bg-gray-900 border-t border-blue-200 dark:border-gray-800 transition-colors duration-300">
        <div class="container mx-auto px-6">
            <div class="flex flex-col items-center mb-16">
                <span class="text-blue-600 font-semibold tracking-wider uppercase text-sm mb-2">Portfolio</span>
                <h2 class="text-4xl font-bold text-slate-900 dark:text-white text-center">Proyectos Destacados</h2>
            </div>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                
                {PROJECTS.map((project) => {
                    const primaryLink = project.demo || project.github || project.thingiverse || '#';
                    const isInternal = primaryLink.startsWith('/');

                    return (
                        <article class="group relative bg-slate-50 dark:bg-gray-800 rounded-2xl overflow-hidden border border-slate-200 dark:border-gray-700 hover:shadow-2xl hover:shadow-blue-500/10 transition-all duration-300 hover:-translate-y-2 flex flex-col h-full">
                            
                            <a 
                                href={primaryLink} 
                                target={isInternal ? "_self" : "_blank"}
                                rel="noopener noreferrer"
                                class="absolute inset-0 z-0"
                                aria-label={`Ver proyecto ${project.title}`}
                            ></a>
                            
                            <div class="relative h-48 overflow-hidden pointer-events-none">
                                <div class="absolute inset-0 bg-blue-600/10 group-hover:bg-transparent transition-colors z-10"></div>
                                <Image 
                                    src={project.image} 
                                    alt={project.title} 
                                    class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-500"
                                />
                                <div class="absolute top-4 right-4 z-20 flex flex-col items-end gap-2">
                                    <span class="px-3 py-1 text-xs font-bold text-white bg-gray-900/80 backdrop-blur-sm rounded-full border border-gray-700 shadow-lg">
                                        {project.category}
                                    </span>
                                    
                                    <span class={`px-3 py-1 text-xs font-bold text-white backdrop-blur-sm rounded-full border border-white/20 shadow-lg ${project.statusColor}`}>
                                        {project.status}
                                    </span>
                                </div>
                            </div>

                            <div class="p-6 flex flex-col flex-grow pointer-events-none">
                                <h3 class="text-xl font-bold text-slate-900 dark:text-white mb-3 group-hover:text-blue-600 transition-colors">
                                    {project.title}
                                </h3>
                                
                                <p class="text-slate-600 dark:text-gray-400 text-sm leading-relaxed mb-6 flex-grow">
                                    {project.description}
                                </p>

                                <div class="flex flex-wrap gap-2 mb-6">
                                    {project.tags.map((tag) => (
                                        <span class="px-2 py-1 text-xs font-medium text-blue-700 bg-blue-50 border border-blue-100 rounded-md dark:bg-blue-900/20 dark:text-blue-300 dark:border-blue-800">
                                            {tag}
                                        </span>
                                    ))}
                                </div>

                                <div class="flex items-center gap-4 mt-auto pt-4 border-t border-slate-200 dark:border-gray-700 relative z-10 pointer-events-auto">
                                    {project.github && (
                                        <a href={project.github} target="_blank" rel="noopener noreferrer" class="flex items-center gap-2 text-sm font-semibold text-slate-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></svg>
                                            Código
                                        </a>
                                    )}
                                    {project.thingiverse && (
                                        <a href={project.thingiverse} target="_blank" rel="noopener noreferrer" class="flex items-center gap-2 text-sm font-semibold text-slate-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/><polyline points="3.27 6.96 12 12.01 20.73 6.96"/><line x1="12" y1="22.08" x2="12" y2="12"/></svg>
                                            Diseño 3D
                                        </a>
                                    )}
                                    {project.demo && (
                                        <a 
                                            href={project.demo} 
                                            target={project.demo.startsWith('/') ? "_self" : "_blank"} 
                                            rel="noopener noreferrer" 
                                            class="flex items-center gap-2 text-sm font-semibold text-slate-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors"
                                        >
                                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12l14-9-9 14-5-5 14-9z"/></svg>
                                            Probar Demo
                                        </a>
                                    )}
                                </div>
                            </div>
                        </article>
                    )
                })}

            </div>
        </div>
    </section>

</Layout>